<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="paginationstyle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <title>Cards with pagination</title>
</head>

<body>
    <div class="container">
        <div class="topnav">
            <a class="active" href="#home">Home</a>
            <a href="#news">News</a>
            <a href="#contact">Contact</a>
            <a href="#about">About</a>
        </div>
        <div class="filters">
            <span style="font-weight: Bold; font-size: 18px;">Car Make:</span><select style="margin-left:5px;"
                name="slct1" id="slct1" onchange="populate(this.id,'slct2')">
                <option value=""></option>
                <option value="Audi">Audi</option>
                <option value="BMW">BMW</option>
                <option value="Ford">Ford</option>
                <option value="Honda">Honda</option>
                <option value="Hyundai">Hyundai</option>
                <option value="Jaguar">Jaguar</option>
                <option value="Jeep">Jeep</option>
                <option value="Kia">Kia</option>
                <option value="Mercedes-Benz">Mercedes-Benz</option>
                <option value="Nissan">Nissan</option>
                <option value="Suzuki">Suzuki</option>
                <option value="Toyota">Toyota</option>
                <option value="Volkswagen">Volkswagen</option>
            </select>
            <span style="font-weight: Bold; margin-left: 10px; font-size: 18px;">Car Model:</span><select
                style="margin-left:5px;" name="slct2" id="slct2" onchange="modelSelect(this.id)">
            </select>
        </div>

        <div class="item">[<span class="start"></span> - <span class="end"></span> of <span class="totalItems"></span>]
        </div>
        <div class="row">
            <!--1st card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--2nd card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--3rd card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--4th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--5th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--6th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--7th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--8th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--9th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--10th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--11th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--12th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--13th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--14th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--15th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--16th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--17th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--18th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--19th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--20th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--21st card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--22nd card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--23rd card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--24th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
            <!--25th card-->
            <div class="profile-card">
                <div class="profile-content">
                    <div class="profile-image">
                        <img class="cardimg" src="images/Friends at sunset.png" alt="first">
                    </div>
                    <div class="desc">
                        <p class="title"></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="pagination">
            <div class="prev">Prev</div>
            <div class="page">Page <span class="Page-num"></span> / <span class="total"></span></div>
            <div class="next">Next</div>
        </div>
    </div>

    <script>

        var title = document.getElementsByClassName("title");
        var cardimg = document.querySelectorAll(".cardimg");
        var card = document.getElementsByClassName("profile-card");

        var start = document.querySelector(".start");
        var end = document.querySelector(".end");

        var prev = document.querySelector(".prev");
        var next = document.querySelector(".next");
        var page = document.querySelector(".page-num");
        var modelCard = [];
        var make = [];
        var model = [];
        var year = [];
        var type = [];
        const maxItem = 8;
        let maxcards = maxItem;
        const totalPages = Math.ceil(card.length / maxItem);

        let rangeStart = 1;

        let index = 1;
        const pagination = Math.ceil(card.length / maxItem);

        prev.addEventListener("click", goPrev, false);
        next.addEventListener("click", goNext, false);

        document.querySelector(".total").innerHTML = totalPages;
        document.querySelector(".totalItems").innerHTML = card.length;
        //function to populate the second select list with the items of the first one
        function populate(s1, s2) {
            console.log(s1);
            var S1 = document.getElementById(s1);
            var S2 = document.getElementById(s2);
            S2.innerHTML = "";
            console.log(S1.value);
            if (S1.value == "Audi") {
                var optionArray = ["|", "A6|A6", "Q8|Q8"];
                display(S1.value);
            } else if (S1.value == "BMW") {
                var optionArray = ["|", "Z4|Z4", "X1|X1"];
                display(S1.value);
            } else if (S1.value == "Ford") {
                var optionArray = ["|", "Endeavour|Endeavour", "Freestyle|Freestyle"];
                display(S1.value);
            } else if (S1.value == "Honda") {
                var optionArray = ["|", "Civic|Civic", "WRV|WRV"];
                display(S1.value);
            } else if (S1.value == "Hyundai") {
                var optionArray = ["|", "Creta|Creta", "Verna|Verna"];
                display(S1.value);
            } else if (S1.value == "Jaguar") {
                var optionArray = ["|", "XF|XF", "FPACE|FPACE"];
                display(S1.value);
            } else if (S1.value == "Jeep") {
                var optionArray = ["|", "Wrangler|Wrangler", "Compass|Compass"];
                display(S1.value);
            } else if (S1.value == "Kia") {
                var optionArray = ["|", "Seltos|Seltos", "Sonet|Sonet"];
                display(S1.value);
            } else if (S1.value == "Mercedes-Benz") {
                var optionArray = ["|", "A-Class|A-Class", "AMG GT|AMG GT"];
                display(S1.value);
            } else if (S1.value == "Nissan") {
                var optionArray = ["|", "GT-R|GT-R", "KICKS|KICKS"];
                display(S1.value);
            } else if (S1.value == "Suzuki") {
                var optionArray = ["|", "Swift|Swift", "Baleno|Baleno"];
                display(S1.value);
            } else if (S1.value == "Toyota") {
                var optionArray = ["|", "Fortuner|Fortuner", "Crysta|Crysta"];
                display(S1.value);
            } else if (S1.value == "Volkswagen") {
                var optionArray = ["|", "Vento|Vento"];
                display(S1.value);
            }
            for (var option in optionArray) {
                var pair = optionArray[option].split("|");
                var newOption = document.createElement("option");
                newOption.value = pair[0];
                newOption.innerHTML = pair[1];
                S2.options.add(newOption);
            }
        }

        //to display only the cards of the selected brand
        function display(selectedMa) {
            var newmaxcard = 0;
            for (var i = 0; i < card.length; i++) {
                card[i].style.display = "none";
                if (make[i] == selectedMa) {
                    card[i].style.display = "block";
                    //modelCard[i]= model[i];
                    newmaxcard += 1;
                }
            }
            end.innerHTML = newmaxcard;
            if (newmaxcard < maxItem) {
                next.classList.add("disabled");
            }
        }

        function modelSelect(selectedMo) {
            var S3 = document.getElementById(selectedMo);
            console.log(S3.value);
            for (var i = 0; i < card.length; i++) {
                card[i].style.display = "none";
                if (model[i] == S3.value) {
                    card[i].style.display = "block";
                }
            }
        }
        //functions for prev and next pagination
        function goPrev() {
            index--;
            rangeStart = rangeStart - maxItem;
            maxcards = maxcards - maxItem;
            check();
            showItems();
        }

        function goNext() {
            index++;
            rangeStart = rangeStart + maxItem;
            maxcards = maxcards + maxItem;
            check();
            showItems();
        }

        function check() {
            if (index == pagination) {
                next.classList.add("disabled");
                maxcards = maxcards - maxItem + 1;
            } else {
                next.classList.remove("disabled");
            }

            if (index == 1) {
                prev.classList.add("disabled");
            } else {
                prev.classList.remove("disabled");
            }
        }
        //function for showing or hiding cards
        function showItems() {
            for (var i = 0; i < card.length; i++) {
                card[i].classList.remove("show");
                card[i].classList.add("hide");
                if (i >= (index * maxItem) - maxItem && i < index * maxItem) {
                    card[i].classList.remove("hide");
                    card[i].classList.add("show");
                }
                page.innerHTML = index;
                start.innerHTML = rangeStart;
                end.innerHTML = maxcards;
            }
        }

        window.onload = function () {
            showItems();
            check();
        }


        //accessing JSON file through AJAX
        var ourRequest = new XMLHttpRequest();
        ourRequest.open('GET', 'https://tejas-deshpande1989.github.io/git-one/car-details.json');
        ourRequest.onload = function () {
            var ourData = JSON.parse(ourRequest.responseText);
            renderHTML(ourData);
        };
        ourRequest.send();

        //to get the data from the JSON file and rendering into HTML
        function renderHTML(data) {
            for (var i = 0; i < 25; i++) {
                title[i].innerHTML = data[i].Title;
                cardimg[i].src = data[i].Img;
                make[i] = data[i].Make;
                model[i] = data[i].Model;
                year[i] = data[i].Year;
                type[i] = data[i].InventoryType;
            }

        }




    </script>
</body>

</html>
